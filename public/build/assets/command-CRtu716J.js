import{c as be}from"./createLucideIcon-DgzF8neN.js";import{r as n,j as b}from"./app-svE3K3mg.js";import{a as F,q as xe,r as ye,O as le,C as oe,s as Me,X as Le,T as we,t as ke}from"./index-B_yQlDJ4.js";import{P as D,a as z}from"./button-Bu5ybxI9.js";import{c as I}from"./utils-CDN07tui.js";const qe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Nt=be("chevron-down",qe);const Fe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ke=be("search",Fe);var ve=1,Pe=.9,ze=.8,Oe=.17,ee=.1,te=.999,Ve=.9999,Te=.99,Be=/[\\\/_+.#"@\[\(\{&]/,Ge=/[\\\/_+.#"@\[\(\{&]/g,Ue=/[\s-]/,Ee=/[\s-]/g;function ae(e,a,t,c,o,d,u){if(d===a.length)return o===e.length?ve:Te;var f=`${o},${d}`;if(u[f]!==void 0)return u[f];for(var x=c.charAt(d),i=t.indexOf(x,o),v=0,g,R,k,S;i>=0;)g=ae(e,a,t,c,i+1,d+1,u),g>v&&(i===o?g*=ve:Be.test(e.charAt(i-1))?(g*=ze,k=e.slice(o,i-1).match(Ge),k&&o>0&&(g*=Math.pow(te,k.length))):Ue.test(e.charAt(i-1))?(g*=Pe,S=e.slice(o,i-1).match(Ee),S&&o>0&&(g*=Math.pow(te,S.length))):(g*=Oe,o>0&&(g*=Math.pow(te,i-o))),e.charAt(i)!==a.charAt(d)&&(g*=Ve)),(g<ee&&t.charAt(i-1)===c.charAt(d+1)||c.charAt(d+1)===c.charAt(d)&&t.charAt(i-1)!==c.charAt(d))&&(R=ae(e,a,t,c,i+1,d+2,u),R*ee>g&&(g=R*ee)),g>v&&(v=g),i=t.indexOf(x,i+1);return u[f]=v,v}function ge(e){return e.toLowerCase().replace(Ee," ")}function Xe(e,a,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,ae(e,a,ge(e),ge(a),0,0,{})}var P='[cmdk-group=""]',re='[cmdk-group-items=""]',He='[cmdk-group-heading=""]',Ne='[cmdk-item=""]',he=`${Ne}:not([aria-disabled="true"])`,ne="cmdk-item-select",L="data-value",We=(e,a,t)=>Xe(e,a,t),Ce=n.createContext(void 0),O=()=>n.useContext(Ce),Re=n.createContext(void 0),ie=()=>n.useContext(Re),Ie=n.createContext(void 0),Se=n.forwardRef((e,a)=>{let t=q(()=>{var r,s;return{search:"",value:(s=(r=e.value)!=null?r:e.defaultValue)!=null?s:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),c=q(()=>new Set),o=q(()=>new Map),d=q(()=>new Map),u=q(()=>new Set),f=je(e),{label:x,children:i,value:v,onValueChange:g,filter:R,shouldFilter:k,loop:S,disablePointerSelection:G=!1,vimBindings:_=!0,...V}=e,U=F(),se=F(),X=F(),A=n.useRef(null),y=ot();$(()=>{if(v!==void 0){let r=v.trim();t.current.value=r,E.emit()}},[v]),$(()=>{y(6,ue)},[]);let E=n.useMemo(()=>({subscribe:r=>(u.current.add(r),()=>u.current.delete(r)),snapshot:()=>t.current,setState:(r,s,m)=>{var l,p,h,C;if(!Object.is(t.current[r],s)){if(t.current[r]=s,r==="search")Y(),W(),y(1,J);else if(r==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let w=document.getElementById(X);w?w.focus():(l=document.getElementById(U))==null||l.focus()}if(y(7,()=>{var w;t.current.selectedItemId=(w=M())==null?void 0:w.id,E.emit()}),m||y(5,ue),((p=f.current)==null?void 0:p.value)!==void 0){let w=s??"";(C=(h=f.current).onValueChange)==null||C.call(h,w);return}}E.emit()}},emit:()=>{u.current.forEach(r=>r())}}),[]),H=n.useMemo(()=>({value:(r,s,m)=>{var l;s!==((l=d.current.get(r))==null?void 0:l.value)&&(d.current.set(r,{value:s,keywords:m}),t.current.filtered.items.set(r,de(s,m)),y(2,()=>{W(),E.emit()}))},item:(r,s)=>(c.current.add(r),s&&(o.current.has(s)?o.current.get(s).add(r):o.current.set(s,new Set([r]))),y(3,()=>{Y(),W(),t.current.value||J(),E.emit()}),()=>{d.current.delete(r),c.current.delete(r),t.current.filtered.items.delete(r);let m=M();y(4,()=>{Y(),m?.getAttribute("id")===r&&J(),E.emit()})}),group:r=>(o.current.has(r)||o.current.set(r,new Set),()=>{d.current.delete(r),o.current.delete(r)}),filter:()=>f.current.shouldFilter,label:x||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:U,inputId:X,labelId:se,listInnerRef:A}),[]);function de(r,s){var m,l;let p=(l=(m=f.current)==null?void 0:m.filter)!=null?l:We;return r?p(r,t.current.search,s):0}function W(){if(!t.current.search||f.current.shouldFilter===!1)return;let r=t.current.filtered.items,s=[];t.current.filtered.groups.forEach(l=>{let p=o.current.get(l),h=0;p.forEach(C=>{let w=r.get(C);h=Math.max(w,h)}),s.push([l,h])});let m=A.current;K().sort((l,p)=>{var h,C;let w=l.getAttribute("id"),T=p.getAttribute("id");return((h=r.get(T))!=null?h:0)-((C=r.get(w))!=null?C:0)}).forEach(l=>{let p=l.closest(re);p?p.appendChild(l.parentElement===p?l:l.closest(`${re} > *`)):m.appendChild(l.parentElement===m?l:l.closest(`${re} > *`))}),s.sort((l,p)=>p[1]-l[1]).forEach(l=>{var p;let h=(p=A.current)==null?void 0:p.querySelector(`${P}[${L}="${encodeURIComponent(l[0])}"]`);h?.parentElement.appendChild(h)})}function J(){let r=K().find(m=>m.getAttribute("aria-disabled")!=="true"),s=r?.getAttribute(L);E.setState("value",s||void 0)}function Y(){var r,s,m,l;if(!t.current.search||f.current.shouldFilter===!1){t.current.filtered.count=c.current.size;return}t.current.filtered.groups=new Set;let p=0;for(let h of c.current){let C=(s=(r=d.current.get(h))==null?void 0:r.value)!=null?s:"",w=(l=(m=d.current.get(h))==null?void 0:m.keywords)!=null?l:[],T=de(C,w);t.current.filtered.items.set(h,T),T>0&&p++}for(let[h,C]of o.current)for(let w of C)if(t.current.filtered.items.get(w)>0){t.current.filtered.groups.add(h);break}t.current.filtered.count=p}function ue(){var r,s,m;let l=M();l&&(((r=l.parentElement)==null?void 0:r.firstChild)===l&&((m=(s=l.closest(P))==null?void 0:s.querySelector(He))==null||m.scrollIntoView({block:"nearest"})),l.scrollIntoView({block:"nearest"}))}function M(){var r;return(r=A.current)==null?void 0:r.querySelector(`${Ne}[aria-selected="true"]`)}function K(){var r;return Array.from(((r=A.current)==null?void 0:r.querySelectorAll(he))||[])}function Q(r){let s=K()[r];s&&E.setState("value",s.getAttribute(L))}function Z(r){var s;let m=M(),l=K(),p=l.findIndex(C=>C===m),h=l[p+r];(s=f.current)!=null&&s.loop&&(h=p+r<0?l[l.length-1]:p+r===l.length?l[0]:l[p+r]),h&&E.setState("value",h.getAttribute(L))}function ce(r){let s=M(),m=s?.closest(P),l;for(;m&&!l;)m=r>0?nt(m,P):lt(m,P),l=m?.querySelector(he);l?E.setState("value",l.getAttribute(L)):Z(r)}let me=()=>Q(K().length-1),fe=r=>{r.preventDefault(),r.metaKey?me():r.altKey?ce(1):Z(1)},pe=r=>{r.preventDefault(),r.metaKey?Q(0):r.altKey?ce(-1):Z(-1)};return n.createElement(D.div,{ref:a,tabIndex:-1,...V,"cmdk-root":"",onKeyDown:r=>{var s;(s=V.onKeyDown)==null||s.call(V,r);let m=r.nativeEvent.isComposing||r.keyCode===229;if(!(r.defaultPrevented||m))switch(r.key){case"n":case"j":{_&&r.ctrlKey&&fe(r);break}case"ArrowDown":{fe(r);break}case"p":case"k":{_&&r.ctrlKey&&pe(r);break}case"ArrowUp":{pe(r);break}case"Home":{r.preventDefault(),Q(0);break}case"End":{r.preventDefault(),me();break}case"Enter":{r.preventDefault();let l=M();if(l){let p=new Event(ne);l.dispatchEvent(p)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:H.inputId,id:H.labelId,style:st},x),B(e,r=>n.createElement(Re.Provider,{value:E},n.createElement(Ce.Provider,{value:H},r))))}),Je=n.forwardRef((e,a)=>{var t,c;let o=F(),d=n.useRef(null),u=n.useContext(Ie),f=O(),x=je(e),i=(c=(t=x.current)==null?void 0:t.forceMount)!=null?c:u?.forceMount;$(()=>{if(!i)return f.item(o,u?.id)},[i]);let v=De(o,d,[e.value,e.children,d],e.keywords),g=ie(),R=j(y=>y.value&&y.value===v.current),k=j(y=>i||f.filter()===!1?!0:y.search?y.filtered.items.get(o)>0:!0);n.useEffect(()=>{let y=d.current;if(!(!y||e.disabled))return y.addEventListener(ne,S),()=>y.removeEventListener(ne,S)},[k,e.onSelect,e.disabled]);function S(){var y,E;G(),(E=(y=x.current).onSelect)==null||E.call(y,v.current)}function G(){g.setState("value",v.current,!0)}if(!k)return null;let{disabled:_,value:V,onSelect:U,forceMount:se,keywords:X,...A}=e;return n.createElement(D.div,{ref:z(d,a),...A,id:o,"cmdk-item":"",role:"option","aria-disabled":!!_,"aria-selected":!!R,"data-disabled":!!_,"data-selected":!!R,onPointerMove:_||f.getDisablePointerSelection()?void 0:G,onClick:_?void 0:S},e.children)}),Ye=n.forwardRef((e,a)=>{let{heading:t,children:c,forceMount:o,...d}=e,u=F(),f=n.useRef(null),x=n.useRef(null),i=F(),v=O(),g=j(k=>o||v.filter()===!1?!0:k.search?k.filtered.groups.has(u):!0);$(()=>v.group(u),[]),De(u,f,[e.value,e.heading,x]);let R=n.useMemo(()=>({id:u,forceMount:o}),[o]);return n.createElement(D.div,{ref:z(f,a),...d,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},t&&n.createElement("div",{ref:x,"cmdk-group-heading":"","aria-hidden":!0,id:i},t),B(e,k=>n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?i:void 0},n.createElement(Ie.Provider,{value:R},k))))}),Qe=n.forwardRef((e,a)=>{let{alwaysRender:t,...c}=e,o=n.useRef(null),d=j(u=>!u.search);return!t&&!d?null:n.createElement(D.div,{ref:z(o,a),...c,"cmdk-separator":"",role:"separator"})}),Ze=n.forwardRef((e,a)=>{let{onValueChange:t,...c}=e,o=e.value!=null,d=ie(),u=j(i=>i.search),f=j(i=>i.selectedItemId),x=O();return n.useEffect(()=>{e.value!=null&&d.setState("search",e.value)},[e.value]),n.createElement(D.input,{ref:a,...c,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":x.listId,"aria-labelledby":x.labelId,"aria-activedescendant":f,id:x.inputId,type:"text",value:o?e.value:u,onChange:i=>{o||d.setState("search",i.target.value),t?.(i.target.value)}})}),et=n.forwardRef((e,a)=>{let{children:t,label:c="Suggestions",...o}=e,d=n.useRef(null),u=n.useRef(null),f=j(i=>i.selectedItemId),x=O();return n.useEffect(()=>{if(u.current&&d.current){let i=u.current,v=d.current,g,R=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let k=i.offsetHeight;v.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return R.observe(i),()=>{cancelAnimationFrame(g),R.unobserve(i)}}},[]),n.createElement(D.div,{ref:z(d,a),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":c,id:x.listId},B(e,i=>n.createElement("div",{ref:z(u,x.listInnerRef),"cmdk-list-sizer":""},i)))}),tt=n.forwardRef((e,a)=>{let{open:t,onOpenChange:c,overlayClassName:o,contentClassName:d,container:u,...f}=e;return n.createElement(xe,{open:t,onOpenChange:c},n.createElement(ye,{container:u},n.createElement(le,{"cmdk-overlay":"",className:o}),n.createElement(oe,{"aria-label":e.label,"cmdk-dialog":"",className:d},n.createElement(Se,{ref:a,...f}))))}),rt=n.forwardRef((e,a)=>j(t=>t.filtered.count===0)?n.createElement(D.div,{ref:a,...e,"cmdk-empty":"",role:"presentation"}):null),at=n.forwardRef((e,a)=>{let{progress:t,children:c,label:o="Loading...",...d}=e;return n.createElement(D.div,{ref:a,...d,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},B(e,u=>n.createElement("div",{"aria-hidden":!0},u)))}),N=Object.assign(Se,{List:et,Item:Je,Input:Ze,Group:Ye,Separator:Qe,Dialog:tt,Empty:rt,Loading:at});function nt(e,a){let t=e.nextElementSibling;for(;t;){if(t.matches(a))return t;t=t.nextElementSibling}}function lt(e,a){let t=e.previousElementSibling;for(;t;){if(t.matches(a))return t;t=t.previousElementSibling}}function je(e){let a=n.useRef(e);return $(()=>{a.current=e}),a}var $=typeof window>"u"?n.useEffect:n.useLayoutEffect;function q(e){let a=n.useRef();return a.current===void 0&&(a.current=e()),a}function j(e){let a=ie(),t=()=>e(a.snapshot());return n.useSyncExternalStore(a.subscribe,t,t)}function De(e,a,t,c=[]){let o=n.useRef(),d=O();return $(()=>{var u;let f=(()=>{var i;for(let v of t){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(i=v.current.textContent)==null?void 0:i.trim():o.current}})(),x=c.map(i=>i.trim());d.value(e,f,x),(u=a.current)==null||u.setAttribute(L,f),o.current=f}),o}var ot=()=>{let[e,a]=n.useState(),t=q(()=>new Map);return $(()=>{t.current.forEach(c=>c()),t.current=new Map},[e]),(c,o)=>{t.current.set(c,o),a({})}};function it(e){let a=e.type;return typeof a=="function"?a(e.props):"render"in a?a.render(e.props):e}function B({asChild:e,children:a},t){return e&&n.isValidElement(a)?n.cloneElement(it(a),{ref:a.ref},t(a.props.children)):t(a)}var st={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const dt=xe,ut=ye,_e=n.forwardRef(({className:e,...a},t)=>b.jsx(le,{ref:t,className:I("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));_e.displayName=le.displayName;const Ae=n.forwardRef(({className:e,children:a,...t},c)=>b.jsxs(ut,{children:[b.jsx(_e,{}),b.jsxs(oe,{ref:c,className:I("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,b.jsxs(Me,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[b.jsx(Le,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ae.displayName=oe.displayName;const ct=n.forwardRef(({className:e,...a},t)=>b.jsx(we,{ref:t,className:I("text-lg font-semibold leading-none tracking-tight",e),...a}));ct.displayName=we.displayName;const mt=n.forwardRef(({className:e,...a},t)=>b.jsx(ke,{ref:t,className:I("text-sm text-muted-foreground",e),...a}));mt.displayName=ke.displayName;const $e=n.forwardRef(({className:e,...a},t)=>b.jsx(N,{ref:t,className:I("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...a}));$e.displayName=N.displayName;const Ct=({children:e,...a})=>b.jsx(dt,{...a,children:b.jsx(Ae,{className:"overflow-hidden p-0",children:b.jsx($e,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),ft=n.forwardRef(({className:e,...a},t)=>b.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[b.jsx(Ke,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),b.jsx(N.Input,{ref:t,className:I("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...a})]}));ft.displayName=N.Input.displayName;const pt=n.forwardRef(({className:e,...a},t)=>b.jsx(N.List,{ref:t,className:I("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...a}));pt.displayName=N.List.displayName;const vt=n.forwardRef((e,a)=>b.jsx(N.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));vt.displayName=N.Empty.displayName;const gt=n.forwardRef(({className:e,...a},t)=>b.jsx(N.Group,{ref:t,className:I("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...a}));gt.displayName=N.Group.displayName;const ht=n.forwardRef(({className:e,...a},t)=>b.jsx(N.Separator,{ref:t,className:I("-mx-1 h-px bg-border",e),...a}));ht.displayName=N.Separator.displayName;const bt=n.forwardRef(({className:e,...a},t)=>b.jsx(N.Item,{ref:t,className:I("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...a}));bt.displayName=N.Item.displayName;export{$e as C,Ke as S,ft as a,pt as b,vt as c,gt as d,bt as e,Nt as f,Ct as g};
